!function(){"use strict";var e,t,r,n={8928:function(e,t,r){var n=r(7378),a=r(7634),l=r(7792),o=r(3028),i=r(8780),c=i.v9,u=function(){return(0,i.I0)()},s=r(6740),m=r(4141),f=r(9146),d=r(1161),y=r(5805),p=r(9522),h=r(5366),v=r(6538),b=r(3208),g=r(3760),E=r(1011),x=r(7816),w=r(4508),S=r(4518),j=r(9119),O=r(7833),Z=r(8594),I=r(5520),C=r(7956),A=r(4776),T=r(1602),k=function(e){var t=e.children,r=e.path;return n.createElement(v.Z,{sx:{typography:"body1"}},n.createElement(x.Z,{underline:"none",component:T.rU,to:r},t))},P=200,D=[{name:"Главная",path:"/"},{name:"НДС",path:"nds"}],M=[{name:"Начисления",path:"accrual"},{name:"Дивиденды",path:"dividends"},{name:"Сотрудники",path:"employees"}],F=[{name:"О сайте",path:"about"},{name:"Контакты",path:"contacts"}],z=r(2709),R=r(9607);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=(0,z.ZP)(R.Z,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,r=e.open;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},r&&{width:"calc(100% - ".concat(P,"px)"),marginLeft:"".concat(P,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})}));function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=(0,z.ZP)("div")((function(e){var t=e.theme;return V(V({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})})),N=L;function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y=(0,z.ZP)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,r=e.open;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({flexGrow:1,padding:t.spacing(1),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(240,"px")},r&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),q=r(9958),J=r(8181),K=r(7544),X=r(5290),G=(0,X.oM)({name:"salaries",initialState:{severity:"success",open:!1,message:"Ok",shouldShow:!0,dialog:!1},reducers:{showSuccessSnackBar:function(e,t){e.shouldShow&&(e.message=t.payload.message,e.open=t.payload.open,e.severity=t.payload.severity)},shouldShowTips:function(e,t){e.shouldShow=t.payload},setDialog:function(e,t){e.dialog=t.payload}}}),ee=G.actions,te=ee.showSuccessSnackBar,re=ee.shouldShowTips,ne=(ee.setDialog,G.reducer),ae=r(7557),le=function(e){var t=u(),r=c((function(e){return e.snackBarSlice})).shouldShow;return n.createElement(ae.Z,{title:"Уведомления",placement:"right",enterDelay:300},n.createElement(v.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",ml:8,mr:2,width:75}},r?n.createElement(K.Z,null):n.createElement(J.Z,null),n.createElement(q.Z,{color:"default",sx:{ml:1},onClick:function(){t(re(!r))}})))},oe=r(874),ie=r(9865),ce=function(){var e=(0,A.Z)(),t=La();return n.createElement(ae.Z,{title:"Тема",placement:"right",enterDelay:300},n.createElement(v.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",ml:8,mr:2,width:75}},"light"===e.palette.mode?n.createElement(ie.Z,null):n.createElement(oe.Z,null),n.createElement(q.Z,{color:"default",sx:{ml:1},onClick:t.toggleColorMode})))};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ye=function(){var e=(0,A.Z)(),t=fe(n.useState(!1),2),r=t[0],a=t[1],l=function(){return a(!1)};return n.createElement(n.Fragment,null,n.createElement(v.Z,{sx:{display:"flex"}},n.createElement($,{position:"fixed",open:r},n.createElement(v.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},n.createElement(b.Z,null,n.createElement(g.Z,{color:"inherit","aria-label":"open drawer",onClick:function(){return a(!0)},edge:"start",sx:se({mr:2},r&&{display:"none"})},n.createElement(h.Z,null)),n.createElement(E.Z,{variant:"h6",noWrap:!0,component:"div",sx:{color:"#fff"}},"Калькулятор налогов")),n.createElement(v.Z,{sx:{display:"flex",alignItems:"center"}},n.createElement(v.Z,{sx:{display:"flex",alignItems:"center",mr:2}},n.createElement(x.Z,{href:"https://github.com/kamik0t0/tax-calculator",color:"inherit",target:"_blank"},n.createElement(p.Z,{fontSize:"large",sx:{"&:hover":{cursor:"pointer"}}}))),F.map((function(e){return n.createElement(k,{key:e.name,path:e.path},n.createElement(w.Z,{sx:{color:"#fff"}},e.name))}))))),n.createElement(S.ZP,{sx:{width:P,flexShrink:0,"& .MuiDrawer-paper":{width:P,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:r},n.createElement(N,null,n.createElement(g.Z,{onClick:l},"ltr"===e.direction?n.createElement(f.Z,null):n.createElement(d.Z,null))),n.createElement(j.Z,null),n.createElement(O.Z,{sx:{mb:10}},D.map((function(e){return n.createElement(n.Fragment,{key:e.name},n.createElement(k,{path:e.path},n.createElement(w.Z,{onClick:l},e.name)),n.createElement(j.Z,null))})),n.createElement(Z.Z,null,n.createElement(I.Z,{expandIcon:n.createElement(y.Z,null),"aria-controls":"panel1a-content",id:"panel1a-header"},n.createElement(E.Z,null,"Зарплата")),n.createElement(C.Z,null,M.map((function(e){return n.createElement(n.Fragment,{key:e.name},n.createElement(k,{path:e.path},n.createElement(w.Z,{onClick:l},e.name)))}))))),n.createElement(j.Z,null),n.createElement(ce,null),n.createElement(le,null)),n.createElement(Y,{open:r},n.createElement(N,null))))},pe=r(1455),he=r(2577),ve={"/home":"главная","/nds":"ндс","/salary":"зарплата","/about":"о сайте","/contacts":"контакты","/accrual":"начисления","/dividends":"дивиденды","/employees":"сотрудники"},be=function(){var e=(0,s.TH)().pathname.split("/").filter((function(e){return e}));return n.createElement(pe.Z,{"aria-label":"breadcrumb",sx:{ml:2}},e.length>0?n.createElement(k,{key:(0,X.x0)(3),path:"/"},n.createElement(w.Z,{sx:{color:"#fff"}},n.createElement(E.Z,null,"главная"))):n.createElement(he.Z,{sx:{color:"#fff",paddingX:2,paddingY:1,marginY:0}},n.createElement(E.Z,null,"главная")),e.map((function(t,r){var a="/".concat(e.slice(0,r+1).join("/"));return r===e.length-1?n.createElement(w.Z,{key:(0,X.x0)(3),sx:{color:"#fff"}},n.createElement(E.Z,null,ve[a])):n.createElement(k,{key:(0,X.x0)(3),path:a},n.createElement(w.Z,{sx:{color:"#fff"}},n.createElement(E.Z,null,ve[a])))})))},ge=r(3070),Ee=r(2925),xe=r(5283);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},we.apply(this,arguments)}var Se=n.forwardRef((function(e,t){return n.createElement(ge.Z,we({elevation:6,ref:t,variant:"filled"},e))})),je=function(){var e=u(),t=c((function(e){return e.snackBarSlice})),r=t.severity,a=t.open,l=t.message,o=function(t,n){"clickaway"!==n&&e(te({open:!1,severity:r,message:l}))};return n.createElement(xe.Z,{spacing:2,sx:{width:"100%"}},n.createElement(Ee.Z,{open:a,autoHideDuration:6e3,onClose:o},n.createElement(Se,{onClose:o,severity:r,sx:{width:"100%"}},l)))},Oe=function(){return n.createElement(n.Fragment,null,n.createElement(m.Z,{sx:{width:"100vw",height:"91vh",overflow:"clip"}},n.createElement(be,null),n.createElement(s.j3,null)))},Ze=r(6474),Ie=(0,z.ZP)(Ze.Z)((function(e){return{width:200,color:e.theme.palette.success.light,paddingY:2,"&.MuiTextField-root":{paddingY:"1px"}}}));function Ce(){return n.createElement(Ie,{defaultValue:30})}var Ae=r(2211),Te=r(8707),ke=r(3820),Pe=r(1944),De=r(1143);function Me(e){return n.createElement(Te.Z,e,n.createElement("path",{d:"M22 4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4zm-2 13.17L18.83 16H4V4h16v13.17zM13 5h-2v4H7v2h4v4h2v-4h4V9h-4z"}))}function Fe(){return n.createElement(n.Fragment,null,n.createElement(v.Z,{sx:{"& > :not(style)":{m:2}}},n.createElement(Me,{fontSize:"large"}),n.createElement(Me,{fontSize:"small",color:"primary"}),n.createElement(Me,{color:"secondary"}),n.createElement(ke.Z,null,"star"),n.createElement(Me,{color:"success"}),n.createElement(Me,{color:"action"}),n.createElement(Me,{color:"disabled"}),n.createElement(Me,{sx:{color:Ae.Z[500],fontSize:65}})),n.createElement(v.Z,{sx:{"& > :not(style)":{m:2}}},n.createElement(ke.Z,{fontSize:"large"},"add_circle"),n.createElement(ke.Z,{color:"secondary"},"add_alert"),n.createElement(ke.Z,{color:"primary"},"add_circle"),n.createElement(ke.Z,{sx:{color:Pe.Z[500]}},"add_circle"),n.createElement(ke.Z,{fontSize:"small"},"add_circle"),n.createElement(ke.Z,{sx:{fontSize:30}},"add_circle")),n.createElement(ke.Z,null,"add_circle"),n.createElement(v.Z,{component:"span",sx:De.Z},"Create a user"))}var ze=r(493),Re=r(7464),Be=(0,z.ZP)(ze.Z)((function(e){var t=e.theme;return{color:t.status.danger,"&.Mui-checked":{color:t.status.danger}}})),Ue=(0,l.Z)({status:{danger:Re.Z[500]}});function $e(){return n.createElement(o.Z,{theme:Ue},n.createElement(Be,{defaultChecked:!0}),n.createElement(ze.Z,null))}function _e(e,t,r,a){for(var l=arguments.length,o=new Array(l>4?l-4:0),i=4;i<l;i++)o[i-4]=arguments[i];var c=u(),s=function(){var r=localStorage.getItem(e);return r?JSON.parse(r):t};return(0,n.useEffect)((function(){var t=s();c(r(t,e))}),[]),(0,n.useEffect)((function(){c(a(e)),o.length>0&&o.forEach((function(t){c(t(e))}))}),[t]),t}var Ve=r(6868),We=r(4547),Le=r(2407);var Ne,He,Qe={id:"",employeeId:"",name:"",pay:0,accrued:0,childrenQtty:0,tax:0,insurance:{retirement:0,medical:0,social:0,accident:0,total:0},insuranceTotal:0,checked:!1},Ye={id:"",name:"",surname:"",patronymic:"",position:"",birth:"",sex:""};!function(e){e.jan="Январь",e.feb="Февраль",e.march="Март",e.april="Апрель",e.may="Май",e.june="Июнь",e.july="Июль",e.aug="Август",e.sep="Сентябрь",e.oct="Октябрь",e.nov="Ноябрь",e.dec="Декабрь"}(Ne||(Ne={})),function(e){e.jan="jan",e.feb="feb",e.march="march",e.april="april",e.may="may",e.june="june",e.july="july",e.aug="aug",e.sep="sep",e.oct="oct",e.nov="nov",e.dec="dec"}(He||(He={}));var qe,Je,Ke,Xe,Ge,et,tt=[He.jan,He.feb,He.march,He.april,He.may,He.june,He.july,He.aug,He.sep,He.oct,He.nov,He.dec];!function(e){e[e.PIT=.13]="PIT",e[e.accident=.002]="accident"}(qe||(qe={})),function(e){e.name="Плательщики страховых взносов, применяющие основной тариф страховых взносов",e.code="01",e[e.retirement=.22]="retirement",e[e.medical=.051]="medical",e[e.social=.029]="social"}(Je||(Je={})),function(e){e.name="Плательщики страховых взносов, применяющие основной тариф страховых взносов",e.code="06",e[e.retirement=.06]="retirement",e[e.medical=.001]="medical",e[e.social=.015]="social"}(Ke||(Ke={})),function(e){e.name="Плательщики страховых взносов, применяющие основной тариф страховых взносов",e.code="20",e[e.retirement=.1]="retirement",e[e.medical=.05]="medical",e[e.social=0]="social"}(Xe||(Xe={})),function(e){e[e.social=1032e3]="social",e[e.retirement=1565e3]="retirement"}(Ge||(Ge={})),function(e){e[e.medical=8766]="medical",e[e.retirement=34445]="retirement"}(et||(et={}));var rt;!function(e){e.number="number",e.employee="name",e.accrued="accrued",e.childrenQtty="childrenQtty",e.tax="tax",e.insurance="insuranceTotal"}(rt||(rt={}));var nt=function(e){return e<=2?1400*e:3e3*(e-2)+2800},at=function(e,t,r,n){var a,l=tt.findIndex((function(e){return e===r})),o=0,i=0,c=0,u=e.months[r].salary[n].employeeId,s=[];for(var m in e.months){if(o===l)break;if(u){var f=e.months[m].salary.find((function(e){return e.employeeId===u}));f&&s.push(f)}o++}var d=(a=s.reduce((function(e,t){return e+t.accrued}),0))+t;a<Ge.retirement&&(i=d>Ge.retirement?(t-(d-Ge.retirement))*Je.retirement:t*Je.retirement),a<Ge.social&&(c=d>Ge.social?(t-(d-Ge.social))*Je.social:t*Je.social);var y=t*Je.medical,p=t*qe.accident;return{accident:p,medical:y,retirement:i,social:c,total:y+i+c+p}},lt=function(e,t,r,n){var a,l=tt.findIndex((function(e){return e===r})),o=0,i=0,c=0,u=e.months[r].salary[n].employeeId,s=[];for(var m in e.months){if(o===l)break;var f=e.months[m].salary.find((function(e){return e.employeeId===u}));f&&s.push(f),o++}var d=(a=s.reduce((function(e,t){return e+t.accrued}),0))+t;a<Ge.retirement&&(i=d>Ge.retirement?(t-(d-Ge.retirement))*Ke.retirement:t*Ke.retirement),a<Ge.social&&(c=d>Ge.social?(t-(d-Ge.social))*Ke.social:t*Ke.social);var y=t*Ke.medical,p=t*qe.accident;return{accident:p,medical:y,retirement:i,social:c,total:y+i+c+p}},ot=function(e,t,r,n){var a,l=function(e){return e===He.jan||e===He.feb||e===He.march||e===He.april||e===He.may?13890:15279}(r),o=tt.findIndex((function(e){return e===r})),i=0,c=0,u=0,s=0,m=0,f=e.months[r].salary[n].employeeId,d=[];for(var y in e.months){if(i===o)break;var p=e.months[y].salary.find((function(e){return e.employeeId===f}));p&&d.push(p),i++}var h=(a=d.reduce((function(e,t){return e+t.accrued}),0))+t;if(t<=l){a<Ge.retirement&&(s=h>Ge.retirement?(c=t-(h-Ge.retirement))*Je.retirement:t*Je.retirement),a<Ge.social&&(m=h>Ge.social?(u=t-(h-Ge.social))*Je.social:t*Je.social);var v=t*Je.medical,b=t*qe.accident;return{accident:b,medical:v,retirement:s,social:m,total:v+s+m+b}}var g=0,E=0;a<Ge.retirement&&(h>Ge.retirement?(c=t-(h-Ge.retirement))>l?(g=l*Je.retirement,s=(c-l)*Xe.retirement):s=l*Je.retirement:(g=l*Je.retirement,s=(t-l)*Xe.retirement)),a<Ge.social&&(h>Ge.social?(u=t-(h-Ge.social))>l?(E=l*Je.social,m=(u-l)*Xe.social):m=l*Je.social:(E=l*Je.social,m=(t-l)*Xe.social));var x=l*qe.accident,w=l*Je.medical,S=(t-l)*Xe.medical;return{accident:x,medical:w+S,retirement:g+s,social:E+m,total:w+g+E+x+(S+s+m)}},it=function(e,t){if(e===He.jan)return null;var r=t.findIndex((function(t){return t===e}));return t[r-1]},ct=function(e,t){var r=t.payload;e.months[r].salary=e.months[r].salary.filter((function(e){return!e.checked}))},ut=function(e,t){e.employees=t.payload},st=function(e,t){var r=t.payload,n=function(e,t){var r=it(t,tt),n=[];return e.months[r].salary.forEach((function(e){n.push(Object.assign({},e,{id:(0,X.x0)(6)}))})),n}(e,r);e.months[r].salary=n},mt=function(e,t){var r=t.payload,n=function(e,t){var r=e.months[t].salary;return r.forEach((function(r,n){if(r.employeeId){var a;switch(e.rateCode){case"06":a=lt(e,r.accrued,t,n);break;case"20":a=ot(e,r.accrued,t,n);break;default:a=at(e,r.accrued,t,n)}r.insurance.accident=a.accident,r.insurance.medical=a.medical,r.insurance.retirement=a.retirement,r.insurance.social=a.social,r.insuranceTotal=a.total}})),r}(e,r);e.months[r].salary=n},ft=function(){return{reducer:function(e,t){var r=t.payload,n=+t.meta.index,a=t.meta,l=a.table;switch(a.prop){case"childrenQtty":e.months[l].salary[n].childrenQtty=+r;var o=function(e,t,r,n){var a=nt(t),l=e.months[r].salary[n].accrued,o=(l-a)*qe.PIT;return{PIT:o,payment:l-o}}(e,+r,l,n),i=o.PIT,c=o.payment;e.months[l].salary[n].tax=+i,e.months[l].salary[n].pay=+c;break;case"employee":var u=e.employees.find((function(e){return e.id===r}));u&&(e.months[l].salary[n].name="".concat(u.surname," ").concat(u.name),e.months[l].salary[n].employeeId=u.id);break;default:e.months[l].salary[n].accrued=+r}},prepare:function(e,t,r,n){return{payload:e,meta:{table:t,index:r,prop:n}}}}},dt=function(e,t){var r=t.payload;e.rateCode=r;var n=function(t){var r=e.months[t].salary;r.length>0&&r.forEach((function(r,n){var a=function(e,t,r,n,a){switch(a){case"06":return lt(e,t,r,n);case"20":return ot(e,t,r,n);default:return at(e,t,r,n)}}(e,r.accrued,t,n,e.rateCode),l=a.accident,o=a.medical,i=a.retirement,c=a.social,u=a.total;e.months[t].salary[n].insurance.accident=+l,e.months[t].salary[n].insurance.medical=+o,e.months[t].salary[n].insurance.retirement=+i,e.months[t].salary[n].insurance.social=+c,e.months[t].salary[n].insuranceTotal=+u}))};for(var a in e.months)n(a)},yt=function(e,t){e.employees.push(t.payload)},pt=function(e,t){var r=t.payload;e.employees=e.employees.filter((function(e){return e.id!==r}))},ht=function(e,t){e.employee=t.payload},vt=function(e,t){var r=e.employees.find((function(e){return e.id===t.payload}));e.employee=r||Ye},bt=function(e,t){var r=t.payload,n=e.employees.findIndex((function(e){return e.id===r.id}));e.employees[n]=r},gt=function(e,t){var r=t.payload;e.districtCoeff=r},Et=function(e,t){var r=t.payload;e.minimalSalary=r};function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){St(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jt=function(e){var t=e.name,r=void 0===t?"salaries":t,n=e.initialState,a=e.reducers;return(0,X.oM)({name:r,initialState:n,reducers:wt({addRow:{reducer:function(e,t){var r=t.meta.table;e.months[r].salary.push(t.payload)},prepare:function(e,t){return{payload:e,meta:{table:t}}}},deleteRow:{reducer:function(e,t){var r=t.payload,n=t.meta.table;e.months[n].salary=e.months[n].salary.filter((function(e,t){return t!==r}))},prepare:function(e,t){return{payload:e,meta:{table:t}}}},setCheckBox:{reducer:function(e,t){var r=t.payload,n=t.meta.table;e.months[n].salary[r].checked=!e.months[n].salary[r].checked},prepare:function(e,t){return{payload:e,meta:{table:t}}}},updateSalaries:{reducer:function(e,t){var r=t.meta.table;e.months[r].salary=t.payload},prepare:function(e,t){return{payload:e,meta:{table:t}}}},updateSalary:ft(),deleteRows:ct,addEmployee:yt,setEmployee:ht,updateEmployee:bt,setEmployees:ut,setTaxStateRate:dt,fillByPrevMonth:st,setSalaryDistrictCoeff:gt,setMinimalSalary:Et,recalculateMonth:mt,setEmployeeById:vt,deleteEmployee:pt},a)})}({name:"test",initialState:{months:{jan:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},feb:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},march:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},april:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},may:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},june:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},july:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},aug:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},sep:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},oct:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},nov:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}},dec:{salary:[],summary:{accruedTotal:0,taxTotal:0,insuranceTotal:0,payTotal:0}}},employees:[],employee:{id:"",name:"",surname:"",position:"",birth:"",sex:"",patronymic:""},rateCode:Je.code,districtCoeff:1,minimalSalary:0},reducers:{setSalariesToStorage:function(e,t){var r=t.payload;localStorage.setItem(r,JSON.stringify(e.months[r].salary))},setEmployeesToStorage:function(e,t){var r=t.payload;localStorage.setItem(r,JSON.stringify(e.employees))},calcSummary:function(e,t){var r=t.payload,n=e.months[r].salary;e.months[r].summary.accruedTotal=n.reduce((function(e,t){return e+t.accrued}),0),e.months[r].summary.insuranceTotal=n.reduce((function(e,t){return e+t.insuranceTotal}),0),e.months[r].summary.payTotal=n.reduce((function(e,t){return e+t.pay}),0),e.months[r].summary.taxTotal=n.reduce((function(e,t){return e+t.tax}),0)}}}),Ot=jt.actions,Zt=Ot.addRow,It=Ot.deleteRow,Ct=Ot.updateSalaries,At=Ot.setCheckBox,Tt=Ot.updateSalary,kt=Ot.deleteRows,Pt=Ot.addEmployee,Dt=Ot.setEmployee,Mt=Ot.updateEmployee,Ft=Ot.setEmployees,zt=Ot.setSalariesToStorage,Rt=Ot.setEmployeesToStorage,Bt=Ot.setTaxStateRate,Ut=Ot.calcSummary,$t=Ot.fillByPrevMonth,_t=Ot.recalculateMonth,Vt=(Ot.setSalaryDistrictCoeff,Ot.setMinimalSalary,Ot.setEmployeeById),Wt=Ot.deleteEmployee,Lt=jt.reducer;function Nt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Ht=r(5957),Qt=r(6514),Yt=n.memo((function(){var e=u(),t=c((function(e){return e.salarySlice})).rateCode;return n.createElement(v.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"}},n.createElement(n.Fragment,null,"Код тарифа"),n.createElement(Ht.Z,{size:"small",value:t,onChange:function(t){return e(Bt(t.target.value))},sx:{ml:1,width:189}},n.createElement(Qt.Z,{value:"01"},"01 - Базовый"),n.createElement(Qt.Z,{value:"06"},"06 - IT компании"),n.createElement(Qt.Z,{value:"20"},"20 - Малый бизнес")))}));function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kt=function(e){var t=qt((0,n.useState)(0),2),r=t[0],a=t[1],l=new IntersectionObserver((function(e){var t=e[0];t.isIntersecting?l.unobserve(t.target):t.target.scrollIntoView({behavior:"smooth"})}));return(0,n.useEffect)((function(){setTimeout((function(){if(0!==r){var t=document.getElementById(e);t&&l.observe(t)}}),100)})),a},Xt=r(1942),Gt=r(8767),er=r(1413),tr=r(7239),rr=r(3298),nr=r(6655),ar=r(2976),lr=n.memo((function(e){var t=e.createItem,r=e.deleteItem;return n.createElement(Le.Z,{component:"div",sx:{"& > :not(style)":{m:1},display:"flex",justifyContent:"space-between"}},n.createElement(rr.Z,{onClick:t,color:"secondary","aria-label":"add",size:"small"},n.createElement(ar.Z,null)),n.createElement(Xt.Z,{onClick:r,variant:"outlined",startIcon:n.createElement(nr.Z,null),id:"lastRow"},"Удалить отмеченные"))})),or=(0,n.memo)((function(e){var t=e.salary,r=e.summary,a=e.table,l=u(),o=c((function(e){return e.salarySlice})),i="dark"===(0,A.Z)().palette.mode?10:1,s=Object.assign({},Qe,{id:(0,X.x0)(5)}),m=Kt("lastRow");return n.createElement(xe.Z,{spacing:2},n.createElement(xe.Z,{direction:"row",sx:{display:"flex",justifyContent:"space-around"}},n.createElement(cr,{text:"Итого начислено",width:140,textVariant:"h6",direction:"column"},r.accruedTotal),n.createElement(cr,{text:"Итого выплачено",width:140,textVariant:"h6",direction:"column"},r.payTotal),n.createElement(cr,{text:"Итого НДФЛ",width:140,textVariant:"h6",direction:"column"},r.taxTotal),n.createElement(cr,{text:"Итого взносы",width:140,textVariant:"h6",direction:"column"},r.insuranceTotal)),n.createElement(v.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},n.createElement(Xt.Z,{variant:"outlined",onClick:function(){var e=it(a,tt);e&&0!==o.months[e].salary.length&&"jan"!==a?(l(te({open:!0,severity:"info",message:"Таблица заполнена! Нажмите рассчитать"})),l($t(a))):l(te({open:!0,severity:"warning",message:"В предыдущем месяце нет данных!"}))}},"Заполнить"),n.createElement(Xt.Z,{variant:"outlined",onClick:function(){0!==t.length?(l(te({open:!0,severity:"info",message:"Взносы пересчитаны!"})),l(_t(a))):l(te({open:!0,severity:"warning",message:"Таблица пуста"}))}},"Рассчитать")),n.createElement(Gt.Z,{component:"div",sx:{width:"100%",overflowY:"auto",overflowX:"hidden"},elevation:i},n.createElement(er.Z,{sx:{maxHeight:520}},n.createElement(tr.Z,{stickyHeader:!0,size:"small","aria-label":"a dense table",id:"SalaryTable"},n.createElement(gr,{salary:t,table:a}),n.createElement(wr,{salary:t,table:a})),n.createElement(lr,{createItem:function(){m(1),l(Zt(s,a))},deleteItem:function(){return l(kt(a))}}))))})),ir=new Intl.NumberFormat("ru",{style:"currency",currency:"RUB",maximumFractionDigits:2}),cr=n.memo((function(e){var t=e.children,r=e.text,a=e.width,l=e.textVariant,o=e.direction,i=o||"row";return n.createElement(v.Z,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",marginLeft:2}},n.createElement(Gt.Z,{elevation:0,sx:{width:a,display:"flex",justifyContent:"space-around",flexDirection:{flexDirection:i},alignItems:"center",padding:.1}},n.createElement(E.Z,{variant:"body1"},r),n.createElement(E.Z,{variant:l},ir.format(t))))})),ur=r(4313),sr=r(1903),mr=r(6970);function fr(e){return function(e){if(Array.isArray(e))return pr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||yr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){if(e){if("string"==typeof e)return pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pr(e,t):void 0}}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hr=function(e){var t=dr((0,n.useState)(!0),2),r=t[0],a=t[1],l=fr(e).map((function(e){return Object.assign({},e)}));return{byNumber:function(e){return a(!r),function(e,t,r){return t?e.sort((function(e,t){return+e[r]-+t[r]})):e.sort((function(e,t){return+t[r]-+e[r]}))}(l,r,e)},byString:function(e){return a(!r),function(e,t,r){return t?e.sort((function(e,t){return e[r].toString().localeCompare(t[r].toString())})):e.sort((function(e,t){return t[r].toString().localeCompare(e[r].toString())}))}(l,r,e)},sortOrder:r}},vr=r(3949),br=r(4065),gr=n.memo((function(e){var t=e.salary,r=e.table,a=u(),l=hr(t),o=l.byNumber,i=l.byString,c=l.sortOrder,s=function(e){return a(Ct(o(rt.accrued),r))};return n.createElement(ur.Z,null,n.createElement(sr.Z,null,n.createElement(mr.Z,{align:"center",sx:{width:20}},n.createElement(v.Z,null,c?n.createElement(vr.Z,{sx:{height:15}}):n.createElement(br.Z,{sx:{height:15}}))),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:20},onClick:function(e){return a(Ct(i(rt.number),r))},align:"center"},"№"),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:300},onClick:function(e){return a(Ct(i(rt.employee),r))},align:"center"},"Сотрудник"),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:100},onClick:s,align:"center"},"Начислено"),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:90},onClick:s,align:"center"},"К выплате"),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:60},onClick:function(e){return a(Ct(o(rt.childrenQtty),r))},align:"center"},"Дети"),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"}},onClick:function(e){return a(Ct(o(rt.tax),r))},align:"center"},"НДФЛ"),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"}},onClick:function(e){return a(Ct(o(rt.insurance),r))},align:"center"},"Взносы"),n.createElement(mr.Z,{sx:{width:20}},"Удалить")))})),Er=r(2587),xr=function(e){var t=e.action,r=e.index;return n.createElement(g.Z,{sx:{ml:1},onClick:function(){return t(r)},"aria-label":"delete"},n.createElement(nr.Z,null))},wr=n.memo((function(e){var t=e.salary,r=e.table,a=u(),l=function(e){a(It(e,r))};return n.createElement(n.Fragment,null,n.createElement(Er.Z,null,t.map((function(e,t){return n.createElement(sr.Z,{key:e.id},n.createElement($r,{table:r,index:t,prop:"number",type:"string",inputMode:"text",disabled:!0,width:0},n.createElement(ze.Z,{size:"small",checked:e.checked,onChange:function(){return a(At(t,r))}})),n.createElement($r,{table:r,index:t,prop:"number",type:"string",inputMode:"text",disabled:!0,width:0},t+1),n.createElement($r,{defaultEmployeeId:e.employeeId,table:r,index:t,prop:"employee",type:"select",inputMode:"text",disabled:!1,width:350},e.name),n.createElement($r,{table:r,index:t,prop:"accrued",type:"number",inputMode:"decimal",disabled:!1,width:100,min:0},e.accrued),n.createElement($r,{table:r,index:t,prop:"pay",type:"number",disabled:!0,width:0},e.pay),n.createElement($r,{table:r,index:t,prop:"childrenQtty",type:"number",inputMode:"numeric",disabled:!1,step:1,width:60,min:0},e.childrenQtty),n.createElement($r,{table:r,index:t,prop:"tax",type:"number",disabled:!0,width:0},e.tax),n.createElement($r,{table:r,index:t,prop:"insurance",type:"number",disabled:!0,width:0},e.insuranceTotal),n.createElement(mr.Z,null,n.createElement(xr,{action:l,index:t})))}))))})),Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=arguments.length>1?arguments[1]:void 0;switch(e){case"date":return t.toString().split("-").reverse().join(".");case"number":return ir.format(+t);case"select":if(-1===t)return"mix";if(.1===t||.2===t||0===t){var r=+t;return"".concat(100*r,"%")}return t;default:return t}},jr=r(3355),Or=r(6233);function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cr=(0,X.oM)({name:"salaries",initialState:{dialogEmployee:!1,dialogDeleteEmployee:!1},reducers:{setDialogEmployee:function(e,t){e.dialogEmployee=t.payload},setDialogEmployeeDelete:function(e,t){e.dialogDeleteEmployee=t.payload}}}),Ar=Cr.actions,Tr=Ar.setDialogEmployee,kr=Ar.setDialogEmployeeDelete,Pr=Cr.reducer;function Dr(e){return function(e){if(Array.isArray(e))return Mr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rr=function(e,t,r,a){var l=u(),o=c((function(e){return e.salarySlice})),i=o.months,s=_e("employees",o.employees,Ft,Rt),m=Fr((0,n.useState)(s),2),f=m[0],d=m[1],y=s.find((function(e){return e.id===a}));return(0,n.useEffect)((function(){var e,t,n,a,l,o=(e=s,t=i[r].salary,n=[],a=Dr(e).map((function(e){return e.id})),l=Dr(t).map((function(e){return e.employeeId})),a.forEach((function(t){if(!l.includes(t)){var r=e.find((function(e){return e.id===t}));r&&n.push(r)}})),n);d(o)}),[s,i]),[function(n){var a=n.target.value;l(Tt(a,r,e.toString(),t))},f,y,function(){l(Vt(a||"")),l(Tr(!0))}]};function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $r=n.memo((function(e){var t=e.defaultEmployeeId,r=e.children,a=e.table,l=e.index,o=e.type,i=e.inputMode,s=e.prop,m=e.disabled,f=e.step,d=e.width,y=e.min,p=c((function(e){return e.salarySlice})).months[a].salary[l],h=Br((0,n.useState)(!1),2),v=h[0],b=h[1],x=Br(Rr(l,s,a,t),4),w=x[0],S=x[1],j=x[2],O=x[3],Z=function(e,t,r,a,l,o,i,c){var s=u(),m=Zr((0,n.useState)(l),2),f=m[0],d=m[1],y=Zr((0,n.useState)(!1),2),p=y[0],h=y[1],v=function(n){if(0===a.name.length)return s(te({open:!0,severity:"warning",message:"Выберите сотрудника либо удалите строку"}));s(Tt(n,r,e.toString(),t))},b=function(){o||(p&&s(te({open:!0,severity:"warning",message:"Не забудьте пересчитать взносы"})),i(!c),h(!p),d(l))};return[function(e){return v(e.target.value)},function(e){if("Enter"===e.code||"NumpadEnter"===e.code){var t=e;return b(),s(te({open:!0,severity:"warning",message:"Не забудьте пересчитать взносы"})),v(t.target.value)}if("Escape"===e.code)return b(),v(f)},p,b]}(l,s,a,p,r,m,b,v),I=Br(Z,4),C=I[0],A=I[1],T=I[2],k=I[3],P=Sr(o,r),D=f||.01;return n.createElement(n.Fragment,null,!m&&T?n.createElement(mr.Z,{align:"center",sx:{height:31,width:d}},"select"===o&&v?n.createElement(Or.Z,{sx:{display:"flex",justifyContent:"center",alignItmes:"center"}},n.createElement(Ht.Z,{onChange:w,sx:{width:d-100,height:29,mr:2},value:(null==j?void 0:j.id)||""},n.createElement(Qt.Z,{value:null==j?void 0:j.id,disabled:!0},r),S&&S.map((function(e){return n.createElement(Qt.Z,{key:e.id,value:e.id},e.surname+" "+e.name)}))),j?n.createElement(g.Z,{color:"primary","aria-label":"add",sx:{padding:.4},onClick:O},n.createElement(ke.Z,{color:"primary",fontSize:"medium"},"edit")):n.createElement(g.Z,{color:"primary","aria-label":"add",sx:{padding:.4},onClick:O},n.createElement(ke.Z,{color:"primary",fontSize:"medium"},"add_circle")),n.createElement(g.Z,{color:"primary","aria-label":"add",sx:{padding:.4},onClick:k},n.createElement(ke.Z,{color:"success",fontSize:"medium"},"check_circle"))):n.createElement(jr.Z,{autoFocus:T,onBlur:k,onChange:C,onKeyDown:A,value:r,type:o,inputMode:i,disabled:m,inputProps:{step:D,min:y},sx:{width:d,height:29}})):n.createElement(mr.Z,{onClick:k,align:"center",sx:{"&:hover":{cursor:"pointer"},height:31,width:d}},n.createElement(E.Z,null,"childrenQtty"===s?r:P)))})),_r=r(7177),Vr=r(3723),Wr=r(4013),Lr=r(7318),Nr=r(4494),Hr=r(5128),Qr=r(6552),Yr=r(6681);function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(r),!0).forEach((function(t){Kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var en=function(){var e=u(),t=c((function(e){return e.salarySlice})).employee,r=Xr((0,n.useState)(t),2),a=r[0],l=r[1],o=c((function(e){return e.dialogSlice})).dialogEmployee;return n.createElement(_r.Z,{open:o||!1,fullWidth:!0},n.createElement(Wr.Z,null,t.id?n.createElement(Lr.Z,null,"Изменение данных сотрудника:"):n.createElement(Lr.Z,null,"Новый сотрудник:"),n.createElement(v.Z,null,n.createElement(v.Z,{mb:2,sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement(Ze.Z,{required:!0,autoFocus:!0,margin:"dense",id:"name",label:"Фамилия",value:null==a?void 0:a.surname,type:"text",variant:"standard",size:"small",onChange:function(e){l(Jr(Jr({},a),{},{surname:e.target.value}))},sx:{width:170}}),n.createElement(Ze.Z,{required:!0,autoFocus:!0,margin:"dense",id:"name",label:"Имя",value:null==a?void 0:a.name,type:"text",variant:"standard",size:"small",onChange:function(e){l(Jr(Jr({},a),{},{name:e.target.value}))},sx:{width:170}}),n.createElement(Ze.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Отчество",value:null==a?void 0:a.patronymic,type:"text",variant:"standard",size:"small",onChange:function(e){l(Jr(Jr({},a),{},{patronymic:e.target.value}))},sx:{width:170}})),n.createElement(Ze.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Должность",value:null==a?void 0:a.position,type:"text",variant:"standard",size:"small",onChange:function(e){l(Jr(Jr({},a),{},{position:e.target.value}))},fullWidth:!0}),n.createElement(v.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",mt:2}},n.createElement(Ze.Z,{autoFocus:!0,margin:"dense",id:"name",type:"date",label:"Дата рождения",value:null==a?void 0:a.birth,variant:"standard",InputLabelProps:{shrink:!0},onChange:function(e){l(Jr(Jr({},a),{},{birth:e.target.value}))},sx:{width:150}}),n.createElement(Nr.Z,null,n.createElement(Yr.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:a.sex,onChange:function(e){l(Jr(Jr({},a),{},{sex:e.target.value}))}},n.createElement(v.Z,{sx:{display:"flex",flexDirecton:"row"}},n.createElement(Hr.Z,{value:"male",control:n.createElement(Qr.Z,null),label:"Мужчина"}),n.createElement(Hr.Z,{value:"female",control:n.createElement(Qr.Z,null),label:"Женщина"}))))))),n.createElement(Vr.Z,null,n.createElement(Xt.Z,{onClick:function(){return e(Tr(!1))}},"Отмена"),n.createElement(Xt.Z,{onClick:function(){if(a.id.length>0)e(Mt(a)),e(te({open:!0,severity:"success",message:"Данные сотрудника успешно обновлены!"})),e(Tr(!1)),e(Dt(a));else{if(0===a.name.length||0===a.surname.length)return e(te({open:!0,severity:"error",message:"Заполните поля со звездочкой"}));var t=Object.assign({},a,{id:(0,X.x0)(6)});e(Pt(t)),e(te({open:!0,severity:"success",message:"Сотрудник успешно добавлен!"})),e(Tr(!1))}}},"Ok")))},tn=["children","value","index"];function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rn.apply(this,arguments)}function nn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var an=function(e){var t=e.children,r=e.value,a=e.index,l=nn(e,tn);return n.createElement("div",rn({role:"tabpanel",hidden:r!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},l),r===a&&n.createElement(v.Z,{sx:{p:2}},t))},ln=n.memo((function(e){var t=e.value,r=e.salary,a=e.summary,l=e.table,o=e.index;return n.createElement(an,{value:t,index:o},n.createElement(or,{salary:r,summary:a,table:l}))}));function on(e){return function(e){if(Array.isArray(e))return cn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var un=function(e,t){var r={id:"",index:-1},n=on(e).map((function(e){return e.id})),a=on(t).map((function(e){return e.employeeId})),l=n.filter((function(e){return a.includes(e)}));return l.forEach((function(n){var a=t.find((function(e){return e.employeeId===n})),l=t.findIndex((function(e){return e.employeeId===n})),o=e.find((function(e){return e.id===n})),i=null==a?void 0:a.name.split(" ")[1],c=null==a?void 0:a.name.split(" ")[0];(null==o?void 0:o.name)===i&&(null==o?void 0:o.surname)===c||(r.id=o.id,r.index=l)})),""!==r.id?r:null};function sn(e){return function(e){if(Array.isArray(e))return mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fn=function(e,t){var r=[],n=sn(e).map((function(e){return e.id})),a=sn(t).map((function(e){return e.id}));return e.length>0?(a.forEach((function(e){var a=t.find((function(t){return t.id===e}));""===(null==a?void 0:a.employeeId)&&r.push(a),null!=a&&a.employeeId&&n.includes(null==a?void 0:a.employeeId)&&r.push(a)})),r):null};function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(this,arguments)}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hn=function(){var e=u(),t=c((function(e){return e.salarySlice})),r=t.months,a=t.employees,l=_e(He.jan,r.jan.salary,Ct,zt,Ut),o=_e(He.feb,r.feb.salary,Ct,zt,Ut),i=_e(He.march,r.march.salary,Ct,zt,Ut),s=_e(He.april,r.april.salary,Ct,zt,Ut),m=_e(He.may,r.may.salary,Ct,zt,Ut),f=_e(He.june,r.june.salary,Ct,zt,Ut),d=_e(He.july,r.july.salary,Ct,zt,Ut),y=_e(He.aug,r.aug.salary,Ct,zt,Ut),p=_e(He.sep,r.sep.salary,Ct,zt,Ut),h=_e(He.oct,r.oct.salary,Ct,zt,Ut),b=_e(He.nov,r.nov.salary,Ct,zt,Ut),g=_e(He.dec,r.dec.salary,Ct,zt,Ut),E=yn(n.useState(0),2),x=E[0],w=E[1];return(0,n.useEffect)((function(){for(var t in r){var n=r[t].salary,l=un(a,n),o=fn(a,n);o&&e(Ct(o,t)),l&&e(Tt(l.id,t,l.index.toString(),"employee"))}}),[a]),n.createElement(n.Fragment,null,n.createElement(v.Z,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(Ve.Z,{value:x,onChange:function(e,t){return w(t)},"aria-label":"basic tabs example",centered:!0,sx:{height:50}},n.createElement(We.Z,dn({label:Ne.jan},Nt(0))),n.createElement(We.Z,dn({label:Ne.feb},Nt(1))),n.createElement(We.Z,dn({label:Ne.march},Nt(2))),n.createElement(We.Z,dn({label:Ne.april},Nt(3))),n.createElement(We.Z,dn({label:Ne.may},Nt(4))),n.createElement(We.Z,dn({label:Ne.june},Nt(5))),n.createElement(We.Z,dn({label:Ne.july},Nt(6))),n.createElement(We.Z,dn({label:Ne.aug},Nt(7))),n.createElement(We.Z,dn({label:Ne.sep},Nt(8))),n.createElement(We.Z,dn({label:Ne.oct},Nt(9))),n.createElement(We.Z,dn({label:Ne.nov},Nt(10))),n.createElement(We.Z,dn({label:Ne.dec},Nt(11))))),n.createElement(Le.Z,{maxWidth:"xl"},n.createElement(v.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",mt:1,mb:3}},n.createElement(Yt,null)),n.createElement(ln,{value:x,index:0,salary:l,summary:r.jan.summary,table:He.jan}),n.createElement(ln,{value:x,index:1,salary:o,summary:r.feb.summary,table:He.feb}),n.createElement(ln,{value:x,index:2,salary:i,summary:r.march.summary,table:He.march}),n.createElement(ln,{value:x,index:3,salary:s,summary:r.april.summary,table:He.april}),n.createElement(ln,{value:x,index:4,salary:m,summary:r.may.summary,table:He.may}),n.createElement(ln,{value:x,index:5,salary:f,summary:r.june.summary,table:He.june}),n.createElement(ln,{value:x,index:6,salary:d,summary:r.july.summary,table:He.july}),n.createElement(ln,{value:x,index:7,salary:y,summary:r.aug.summary,table:He.aug}),n.createElement(ln,{value:x,index:8,salary:p,summary:r.sep.summary,table:He.sep}),n.createElement(ln,{value:x,index:9,salary:h,summary:r.oct.summary,table:He.oct}),n.createElement(ln,{value:x,index:10,salary:b,summary:r.nov.summary,table:He.nov}),n.createElement(ln,{value:x,index:11,salary:g,summary:r.dec.summary,table:He.dec})))};function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gn=function(){var e=vn((0,n.useState)({pit:0,pay:0,summ:0}),2),t=e[0],r=e[1],a=vn((0,n.useState)({pit:0,pay:0,summ:0}),2),l=a[0],o=a[1];return n.createElement(v.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:200,mt:3,ml:3}},"1. Расчет по начислению",n.createElement(v.Z,{sx:{display:"flex",flexDirection:"row",width:680,justifyContent:"space-between"}},n.createElement(Ze.Z,{label:"начисление",variant:"outlined",size:"small",type:"number",sx:{width:150},onChange:function(e){var t=+e.target.value,n=Math.round(13*t/100),a=Math.round(t-n);r((function(){return{pay:a,pit:n,summ:t}}))}}),n.createElement(cr,{text:"НДФЛ",width:250,textVariant:"body1"},t.pit),n.createElement(cr,{text:"К выплате",width:250,textVariant:"body1"},t.pay)),"2. Расчет по выплате",n.createElement(v.Z,{sx:{display:"flex",flexDirection:"row",width:680,justifyContent:"space-between"}},n.createElement(Ze.Z,{label:"на руки",variant:"outlined",size:"small",type:"number",sx:{width:150},onChange:function(e){var t=+e.target.value,r=Math.round(13*t/87),n=Math.round(t+r);o((function(){return{pay:t,pit:r,summ:n}}))}}),n.createElement(cr,{text:"НДФЛ",width:250,textVariant:"body1"},l.pit),n.createElement(cr,{text:"Начислено",width:250,textVariant:"body1"},l.summ)))},En=r(4260),xn=r(5547),wn=function(){var e=u(),t=c((function(e){return e.salarySlice})).employee,r=c((function(e){return e.dialogSlice})).dialogDeleteEmployee;return n.createElement(_r.Z,{open:r||!1,fullWidth:!0},n.createElement(xn.Z,null,"Удалить сотрудника?"),n.createElement(Wr.Z,null,n.createElement(Lr.Z,null,"Удаление сотрудника приведет к удалению связанных с ним начислений во всех таблицах")),n.createElement(Vr.Z,null,n.createElement(Xt.Z,{onClick:function(){return e(kr(!1))}},"Отмена"),n.createElement(Xt.Z,{onClick:function(){e(Wt(t.id)),e(te({open:!0,severity:"success",message:"Сотрудник удаден"})),e(kr(!1))}},"Ok")))},Sn=function(e){var t=u(),r=c((function(e){return e.salarySlice})),a=r.employees,l=r.employee,o=c((function(e){return e.dialogSlice})).dialogDeleteEmployee,i=_e("employees",a,Ft,Rt);return n.createElement(n.Fragment,null,n.createElement(Le.Z,{sx:{display:"flex",flexDirection:"column",height:100,width:200,mt:2,ml:2}},n.createElement(Nr.Z,{sx:{mb:3}},n.createElement(En.Z,{id:"demo-simple-select-label"},"Сотрудник"),n.createElement(Ht.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l.id||"",label:"Сотрудник",onChange:function(e){var r=e.target.value;t(Vt(r))},sx:{width:250}},i.map((function(e){return n.createElement(Qt.Z,{key:e.id,value:e.id},e.surname+" "+e.name)})))),n.createElement(v.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:400}},n.createElement(Xt.Z,{variant:"outlined",onClick:function(){t(Vt("")),t(Tr(!0))}},"Добавить"),n.createElement(Xt.Z,{variant:"outlined",onClick:function(){""!==l.id?t(Tr(!0)):t(te({open:!0,severity:"warning",message:"Сотрудник не выбран"}))}},"Редактировать"),n.createElement(Xt.Z,{variant:"outlined",onClick:function(){""!==l.id?t(kr(!0)):t(te({open:!0,severity:"warning",message:"Сотрудник не выбран"}))}},"Удалить"))),o&&n.createElement(wn,null))},jn=function(){return{reducer:function(e,t){var r=t.meta,n=r.index,a=r.table,l=r.prop,o=function(e,t,r,n){var a=Object.assign({},r[n]);switch(t){case"rate":var l=100*+e,o=l+100;"-1"===e?a.rate=-1:(a.rate=+e,a.nds=+(a.summ*l/o).toFixed(2));break;case"summ":if(-1===a.rate)a.summ=+e;else{var i=100*a.rate,c=i+100;a.summ=+e,a.nds=+(a.summ*i/c).toFixed(2)}break;case"date":a.date=Date.parse(e);break;case"nds":a.nds=+e,a.rate=-1;break;default:a[t]=e}return a}(t.payload,l,e[a],+n);e[a][+n]=o},prepare:function(e,t,r,n){return{payload:e,meta:{table:t,index:r,prop:n}}}}},On=function(e,t){var r=t.payload;e[r]=e[r].filter((function(e){return!e.checked}))};function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){Cn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var An,Tn,kn,Pn,Dn,Mn=function(e){var t=e.name,r=void 0===t?"invoices":t,n=e.initialState,a=e.reducers;return(0,X.oM)({name:r,initialState:n,reducers:In({addRow:{reducer:function(e,t){e[t.meta.table].push(t.payload)},prepare:function(e,t){return{payload:e,meta:{table:t}}}},deleteRow:{reducer:function(e,t){var r=t.payload,n=t.meta.table;e[n]=e[n].filter((function(e,t){return t!==r}))},prepare:function(e,t){return{payload:e,meta:{table:t}}}},setCheckBox:{reducer:function(e,t){var r=t.payload,n=t.meta.table;e[n][r].checked=!e[n][r].checked},prepare:function(e,t){return{payload:e,meta:{table:t}}}},updateInvoices:{reducer:function(e,t){e[t.meta.table]=t.payload},prepare:function(e,t){return{payload:e,meta:{table:t}}}},updateInvoice:jn(),deleteRows:On},a)})}({name:"wrappedInvoices",initialState:{sales:[],purches:[],issued:[],recieved:[],summary:{purches:{summ:0,nds:0},sales:{summ:0,nds:0},issued:{summ:0,nds:0},recieved:{summ:0,nds:0},nds:0}},reducers:{setLocalStorage:function(e,t){var r=t.payload;localStorage.setItem(r,JSON.stringify(e[r]))},calcSummary:function(e,t){var r=t.payload;!function(e,t,r){t.summ=r.reduce((function(e,t){return e+ +t.summ}),0),t.nds=r.reduce((function(e,t){return e+ +t.nds}),0),e.summary.nds=e.summary.sales.nds+e.summary.recieved.nds-e.summary.purches.nds-e.summary.issued.nds,e.summary.nds<0&&(e.summary.nds=0)}(e,e.summary[r],e[r])}}}),Fn=Mn.actions,zn=Fn.addRow,Rn=Fn.deleteRow,Bn=Fn.updateInvoices,Un=Fn.setCheckBox,$n=Fn.updateInvoice,_n=Fn.deleteRows,Vn=Fn.setLocalStorage,Wn=Fn.calcSummary,Ln=Mn.reducer,Nn=[{value:"date",name:"Дата"},{value:"client",name:"Контрагенту"},{value:"summ",name:"Сумме"}],Hn=[{value:"more",name:"Больше"},{value:"less",name:"Меньше"},{value:"equal",name:"Равно"}];function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e){e.Sale="Продажи",e.Purchase="Покупки",e.Received="Авансы полученные",e.Issued="Авансы выданные"}(An||(An={})),function(e){e.Sale="sales",e.Purchase="purches",e.Received="recieved",e.Issued="issued"}(Tn||(Tn={})),function(e){e.Buyer="Покупатель",e.Seller="Продавец"}(kn||(kn={})),function(e){e.client="client",e.summ="summ",e.date="date"}(Pn||(Pn={})),function(e){e.number="№",e.date="Дата",e.rate="Ставка НДС",e.nds="в т.ч. НДС",e.summ="Сумма"}(Dn||(Dn={}));var qn=function(){var e=c((function(e){return e.invoiceSlice})),t=e.summary,r=e.sales,a=e.purches,l=e.recieved,o=e.issued,i=_e(Tn.Sale,r,Bn,Wn,Vn),u=_e(Tn.Purchase,a,Bn,Wn,Vn),s=_e(Tn.Received,l,Bn,Wn,Vn),m=_e(Tn.Issued,o,Bn,Wn,Vn),f=Qn((0,n.useState)(0),2),d=f[0],y=f[1];return n.createElement(n.Fragment,null,n.createElement(v.Z,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(Ma,{value:d,handleChange:function(e,t){return y(t)}}),n.createElement(Fa,{nds:t.nds})),n.createElement(an,{value:d,index:0},n.createElement(Oa,{textInfo1:Tn.Sale,textInfo2:An.Sale,invoices:i,clientType:kn.Buyer,summ:t.sales.summ,nds:t.sales.nds})),n.createElement(an,{value:d,index:1},n.createElement(Oa,{textInfo1:Tn.Purchase,textInfo2:An.Purchase,invoices:u,clientType:kn.Seller,summ:t.purches.summ,nds:t.purches.nds})),n.createElement(an,{value:d,index:2},n.createElement(Oa,{textInfo1:Tn.Received,textInfo2:An.Received,invoices:s,clientType:kn.Buyer,summ:t.recieved.summ,nds:t.recieved.nds})),n.createElement(an,{value:d,index:3},n.createElement(Oa,{textInfo1:Tn.Issued,textInfo2:An.Issued,invoices:m,clientType:kn.Seller,summ:t.issued.summ,nds:t.issued.nds})))};function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xn(e){return function(e){if(Array.isArray(e))return Gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ea=function(e,t,r){return Xn(e).filter((function(e){var n=e.date;return n>=t&&n<=r}))};function ta(e,t,r,n){return function(a){if("summ"===n)t(function(e,t,r){var n=+e.target.value;if(0===n)return t;switch(r){case"more":return t.filter((function(e){return+e.summ>n}));case"less":return t.filter((function(e){return+e.summ<n}));case"equal":return t.filter((function(e){return+e.summ===n}));default:return t.filter((function(e){return e.summ===n}))}}(a,e,r));else t(function(e,t,r){var n=e.target.value.toString().toLowerCase(),a=new RegExp(n,"g");return t.filter((function(e){return-1!==e[r].toString().toLowerCase().search(a)}))}(a,e,n))}}var ra=function(e,t){return t-e>=0},na=function(e){return new Date(e).toLocaleDateString().split(".").reverse().join("-")};function aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return la(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return la(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oa=Date.now();function ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ca(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ca(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ua=function(e){var t=ia((0,n.useState)(e),2),r=t[0],a=t[1];return[r,function(){return a(!r)}]};function sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return da(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return da(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ha=function(){var e=function(e){var t=fa((0,n.useState)(e),2),r=t[0],a=t[1];return[r,function(e){a(e.target.value)}]}("more"),t=ya(e,2),r=t[0],a=t[1],l=ya((0,n.useState)("client"),2),o=l[0],i=l[1],c=ya((0,n.useState)("string"),2),u=c[0],s=c[1];return{column:o,summCriterion:r,handleChangeColumn:function(e){var t=e.target.value;i(t),"summ"===t&&s("number"),"date"===t&&s("date"),"client"===t&&s("string")},handleChangeCriterion:a,inputType:u}};function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ba(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ba(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ga=function(e){var t=e.invoices,r=e.setFiltered,a=u(),l=function(){var e=sa(ua(!1),2),t=(e[0],e[1]),r=sa(ua(!1),2);return r[0],[t,r[1]]}(),o=va(l,2),i=o[0],c=o[1],s=ha(),m=s.column,f=s.summCriterion,d=s.handleChangeColumn,y=s.handleChangeCriterion,p=s.inputType,h=ta(t,r,f,m),b=function(e,t){var r=aa((0,n.useState)(oa),2),a=r[0],l=r[1],o=aa((0,n.useState)(oa),2),i=o[0],c=o[1],u=aa((0,n.useState)(!1),2),s=u[0],m=u[1];return[s,function(r){var n=Date.parse(r.target.value),a=ra(n,i);m(a),a&&t(ea(e,n,i)),l(n)},function(r){var n=Date.parse(r.target.value),l=ra(a,n);m(l),l&&t(ea(e,a,n)),c(n)},(0,n.useMemo)((function(){return na(a)}),[a]),(0,n.useMemo)((function(){return na(i)}),[i])]}(t,r),g=va(b,5),x=g[0],w=g[1],S=g[2],j=g[3],O=g[4];return n.createElement(n.Fragment,null,n.createElement(v.Z,{sx:{display:"flex",direction:"row",justifyContent:"center",alignItems:"center",height:30,mb:3}},n.createElement(En.Z,{sx:{color:"#2477CC"}},n.createElement(E.Z,null,"Фильтр по:")),n.createElement(Ea,{onClick:i,onChange:d,value:m,items:Nn}),"summ"===m&&n.createElement(Ea,{onClick:c,onChange:y,value:f,items:Hn}),"date"===m?n.createElement(n.Fragment,null,n.createElement(En.Z,{sx:{ml:2,color:"#2477CC"}},"c:"),n.createElement(Ze.Z,{error:!x,size:"small",sx:{ml:3},variant:"standard",value:j,onChange:w,type:"date"}),n.createElement(En.Z,{sx:{ml:2,color:"#2477CC"}},"по:"),n.createElement(Ze.Z,{size:"small",sx:{ml:3},variant:"standard",value:O,onChange:S,type:"date"})):n.createElement(Ze.Z,{size:"small",sx:{ml:3},label:"Фильтр",variant:"standard",onChange:h,type:p}),n.createElement(Xt.Z,{variant:"outlined",sx:{ml:3},onClick:function(){a(te({open:!0,severity:"info",message:"Результат фильтрации сброшен!"})),r(t)}},"Сброс")))},Ea=function(e){var t=e.onClick,r=e.onChange,a=e.value,l=e.items;return n.createElement(Ht.Z,{size:"small",onClick:t,value:a,onChange:r,sx:{width:150,ml:2}},l.map((function(e,t){return n.createElement(Qt.Z,{key:t,value:e.value},e.name)})))};function xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sa=[{value:"0",name:"0%"},{value:"0.1",name:"10%"},{value:"0.2",name:"20%"},{value:"-1",name:"mix"}],ja=function(e){var t=e.children,r=e.table,a=e.index,l=e.prop,o=e.type,i=e.disabled,c=e.width,s=e.vatRate,m=xa((0,n.useState)(!1),2),f=m[0],d=m[1],y=xa((0,n.useState)(!1),2),p=y[0],h=y[1],b=function(){h(!p),d(!f)},E=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,l=arguments.length>4?arguments[4]:void 0,o=u(),i=Jn((0,n.useState)(a?a.toString():""),2),c=i[0],s=i[1],m=function(e){return d(e.target.value)},f=function(e){return y(e.target.value)},d=function(n){return o($n(n,r,e.toString(),t))},y=function(n){s(n),o($n(n,r,e.toString(),t))};return[m,f,function(e){if("Enter"===e.code||"NumpadEnter"===e.code){var t=e;return l(),d(t.target.value)}},c]}(a,l,r,s,b),x=xa(E,4),w=x[0],S=x[1],j=x[2],O=x[3],Z=function(e,t){return"date"===e?(r=new Date(+t),n=r.getMonth()>=10?r.getMonth()+1:"0"+ +(r.getMonth()+1),a=r.getDate()>=10?r.getDate():"0"+ +r.getDate(),"".concat(r.getFullYear(),"-").concat(n,"-").concat(a)):t;var r,n,a}(l,t),I=Sr(o,Z);return n.createElement(n.Fragment,null,!i&&f?n.createElement(mr.Z,{align:"center",sx:{width:c}},"select"===o&&p?n.createElement(v.Z,{sx:{display:"flex",justifyContent:"center",alignItmes:"center"}},n.createElement(Ht.Z,{value:O,onChange:S,sx:{height:31,width:c-32,mr:.5}},Sa&&Sa.map((function(e){return n.createElement(Qt.Z,{key:e.value,value:e.value.toString()},e.name)}))),n.createElement(g.Z,{color:"primary","aria-label":"add",sx:{padding:.4},onClick:b},n.createElement(ke.Z,{color:"success",fontSize:"medium"},"check_circle"))):n.createElement(jr.Z,{autoFocus:f,onBlur:b,onChange:w,onKeyDown:j,value:Z,type:o,disabled:i,inputProps:{step:.01},sx:{width:c}})):n.createElement(mr.Z,{onClick:b,align:"center",sx:{"&:hover":{cursor:"pointer"},width:c}},I))},Oa=function(e){var t=e.textInfo1,r=e.textInfo2,a=e.invoices,l=e.clientType,o=e.summ,i=e.nds;return n.createElement(Le.Z,{maxWidth:"xl"},n.createElement(Pa,{textInfo:r,summ:o,nds:i}),n.createElement(j.Z,{sx:{marginY:2,color:"#2477CC"}}),n.createElement(Aa,{invoices:a,clientType:l,table:t}))};var Za=function(e,t,r,n,a,l,o){return{number:e,date:t,client:r,rate:n,nds:a,summ:l,checked:o}}("№",Date.now(),"Контрагент",.2,0,0,!1);function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ca(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ca(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aa=function(e){var t=e.invoices,r=e.clientType,a=e.table,l="dark"===(0,A.Z)().palette.mode?10:1,o=u(),i=Ia((0,n.useState)(t||[]),2),c=i[0],s=i[1],m=Kt("lastRow");return(0,n.useEffect)((function(){s(t)}),[t]),n.createElement(n.Fragment,null,n.createElement(xe.Z,{direction:"row",spacing:2},n.createElement(v.Z,{sx:{width:1}},n.createElement(ga,{invoices:t,setFiltered:s}),n.createElement(Gt.Z,{component:"div",sx:{width:"100%",overflowY:"auto",overflowX:"hidden"},elevation:l},n.createElement(er.Z,{sx:{maxHeight:570}},n.createElement(tr.Z,{stickyHeader:!0,size:"small","aria-label":"a dense table",id:"InvoiceTable"},n.createElement(ka,{clientType:r,filtered:c,table:a}),n.createElement(Ta,{filtered:c,table:a})),n.createElement(lr,{createItem:function(){m(1),o(zn(Za,a))},deleteItem:function(){return o(_n(a))}}))))))},Ta=function(e){var t=e.filtered,r=e.table,a=u(),l=function(e){return a(Rn(e,r))};return n.createElement(n.Fragment,null,n.createElement(Er.Z,null,t.map((function(e,t){return n.createElement(sr.Z,{key:t},n.createElement(mr.Z,{sx:{width:40}},n.createElement(ze.Z,{size:"small",checked:e.checked,onChange:function(){return a(Un(t,r))},sx:{ml:1}})),n.createElement(ja,{table:r,index:t,prop:"number",type:"",disabled:!1,width:40},e.number),n.createElement(ja,{table:r,index:t,prop:"date",type:"date",disabled:!1,width:120},e.date),n.createElement(ja,{table:r,index:t,prop:"client",type:"",disabled:!1,width:230},e.client),n.createElement(ja,{table:r,index:t,prop:"rate",type:"select",disabled:!1,width:140,vatRate:e.rate},e.rate),n.createElement(ja,{table:r,index:t,prop:"nds",type:"number",disabled:!1,width:100},e.nds),n.createElement(ja,{table:r,index:t,prop:"summ",type:"number",disabled:!1,width:110},e.summ),n.createElement(mr.Z,null,n.createElement(xr,{action:l,index:t})))}))))},ka=function(e){var t=e.clientType,r=e.filtered,a=e.table,l=u(),o=hr(r),i=o.byNumber,c=o.byString,s=o.sortOrder,m=function(e){return l(Bn(c(Pn.client),a))},f=function(e){return l(Bn(i(Pn.summ),a))};return n.createElement(ur.Z,null,n.createElement(sr.Z,null,n.createElement(mr.Z,{sx:{width:40}},n.createElement(v.Z,{sx:{ml:2}},s?n.createElement(vr.Z,{sx:{height:15}}):n.createElement(br.Z,{sx:{height:15}}))),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:40},onClick:m,align:"center"},Dn.number),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:130},onClick:function(e){return l(Bn(i(Pn.date),a))},align:"center"},Dn.date),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:230},onClick:m,align:"center"},t),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:140},onClick:f,align:"center"},Dn.rate),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"}},onClick:f,align:"center"},Dn.nds),n.createElement(mr.Z,{sx:{"&:hover":{cursor:"pointer"},width:110},onClick:f,align:"center"},Dn.summ),n.createElement(mr.Z,{sx:{width:20}},"Удалить")))},Pa=function(e){var t=e.textInfo,r=e.summ,a=e.nds;return n.createElement(v.Z,{sx:{display:"flex"}},n.createElement(Le.Z,null,n.createElement(xe.Z,{sx:{width:1,justifyContent:"center"},direction:"row"},n.createElement(cr,{text:t,width:280,textVariant:"body1"},r),n.createElement(cr,{text:"НДС",width:260,textVariant:"body1"},a))))};function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Da.apply(this,arguments)}var Ma=function(e){var t=e.value,r=e.handleChange;return n.createElement(Ve.Z,{value:t,onChange:r,"aria-label":"basic tabs example",centered:!0},n.createElement(We.Z,Da({label:An.Sale},Nt(0))),n.createElement(We.Z,Da({label:An.Purchase},Nt(1))),n.createElement(We.Z,Da({label:An.Received},Nt(2))),n.createElement(We.Z,Da({label:An.Issued},Nt(3))))},Fa=function(e){var t=e.nds;return n.createElement(v.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-around",mb:1,mt:1}},n.createElement(cr,{text:"НДС к уплате: ",width:300,textVariant:"h6"},t))},za=function(){return n.createElement(n.Fragment,null,n.createElement(s.Z5,null,n.createElement(s.AW,{path:"/",element:n.createElement(Oe,null)},n.createElement(s.AW,{index:!0,element:n.createElement($e,null)}),n.createElement(s.AW,{path:"nds",element:n.createElement(qn,null)}),n.createElement(s.AW,{path:"about",element:n.createElement(Ce,null)}),n.createElement(s.AW,{path:"contacts",element:n.createElement(Fe,null)}),n.createElement(s.AW,{path:"accrual",element:n.createElement(hn,null)}),n.createElement(s.AW,{path:"dividends",element:n.createElement(gn,null)}),n.createElement(s.AW,{path:"employees",element:n.createElement(Sn,null)}))))};function Ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(r),!0).forEach((function(t){Ua(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ua(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Va,Wa=$a([function(){var e=(0,n.useContext)(Va);if(void 0===e)throw new Error("useCtx must be inside a Provider with a value");return e},(Va=(0,n.createContext)(void 0)).Provider],2),La=Wa[0],Na=Wa[1],Ha=function(){var e=c((function(e){return e.dialogSlice})),t=e.dialogEmployee,r=e.dialogDeleteEmployee,a=$a((0,n.useState)("dark"),2),i=a[0],u=a[1],s=(0,n.useMemo)((function(){return{toggleColorMode:function(){return u((function(e){return"light"===e?"dark":"light"}))}}}),[]),m=(0,n.useMemo)((function(){return(0,l.Z)(function(e){return{palette:{mode:e},components:Ba({},"light"===e?{MuiTypography:{defaultProps:{color:"#1E1E1E"}}}:{MuiPaper:{styleOverrides:{root:{background:"#1E1E1E"}}},MuiTypography:{defaultProps:{color:"#BCBCB2"}}})}}(i))}),[i]);return n.createElement(T.VK,null,n.createElement(Na,{value:s},n.createElement(o.Z,{theme:m},n.createElement(ye,null),n.createElement(za,null),n.createElement(je,null),t&&n.createElement(en,null),r&&n.createElement(wn,null))))},Qa=(0,X.xC)({reducer:{invoiceSlice:Ln,salarySlice:Lt,snackBarSlice:ne,dialogSlice:Pr}});a.createRoot(document.getElementById("root")).render(n.createElement(i.zt,{store:Qa},n.createElement(n.StrictMode,null,n.createElement(Ha,null))))}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,l),r.exports}l.m=n,e=[],l.O=function(t,r,n,a){if(!r){var o=1/0;for(s=0;s<e.length;s++){r=e[s][0],n=e[s][1],a=e[s][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||o>=a)&&Object.keys(l.O).every((function(e){return l.O[e](r[c])}))?r.splice(c--,1):(i=!1,a<o&&(o=a));if(i){e.splice(s--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,n,a]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);l.r(a);var o={};t=t||[null,r({}),r([]),r(r)];for(var i=2&n&&e;"object"==typeof i&&!~t.indexOf(i);i=r(i))Object.getOwnPropertyNames(i).forEach((function(t){o[t]=function(){return e[t]}}));return o.default=function(){return e},l.d(a,o),a},l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0};l.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,o=r[0],i=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(c)var s=c(l)}for(t&&t(r);u<o.length;u++)a=o[u],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(s)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var o=l.O(void 0,[314],(function(){return l(8928)}));o=l.O(o)}();